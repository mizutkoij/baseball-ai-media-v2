{
  "version": "1.0",
  "updated": "2025-08-02",
  "description": "Game Invariant Testing Configuration - Centralized Management",
  
  "sampling": {
    "recentDays": 14,
    "randomHistoric": 12,
    "seed": "auto",
    "maxSampleSize": 25,
    "comment": "Recent games prioritized for relevance, historic for coverage"
  },
  
  "tolerance": {
    "R": 2,
    "H": 2, 
    "HR": 1,
    "AB": 2,
    "BB": 2,
    "SO": 2,
    "PA": 3,
    "IP_outs": 2,
    "coverage_pct": 75,
    "comment": "Conservative tolerances for data quality variations"
  },
  
  "autoRelaxation": {
    "enabled": true,
    "smallSampleThreshold": 5,
    "relaxationFactor": 1.5,
    "maxRelaxation": 2.0,
    "comment": "Auto-increase tolerance for small samples up to 2x"
  },
  
  "exclude": {
    "leagues": ["farm"],
    "gamePatterns": ["%farm%", "%二軍%"],
    "teams": [],
    "specificGames": [],
    "comment": "Farm games excluded due to data quality differences"
  },
  
  "stratifiedSampling": {
    "enabled": true,
    "categories": {
      "recent": {
        "days": 7,
        "fullCoverage": true,
        "weight": 0.4
      },
      "historic": {
        "randomCount": 12,
        "weight": 0.4
      },
      "edgeCases": {
        "highScoring": { "minTotalRuns": 15, "count": 2 },
        "extraInnings": { "minInnings": 12, "count": 2 },
        "weight": 0.2
      }
    }
  },
  
  "additionalInvariants": {
    "PA_decomposition": {
      "enabled": true,
      "formula": "PA = AB + BB + HBP + SF + SH",
      "tolerance": 3,
      "comment": "Plate appearance breakdown validation"
    },
    "IP_outs_consistency": {
      "enabled": true, 
      "formula": "IP_outs = 3 * defensive_innings",
      "tolerance": 2,
      "extraInningsAllowed": true,
      "comment": "Innings pitched validation with extra innings tolerance"
    },
    "team_box_cross": {
      "enabled": true,
      "metrics": ["R", "H", "HR", "AB", "BB", "SO"],
      "tolerance": 2,
      "comment": "Team totals vs individual player sum validation"
    },
    "pbp_scoring": {
      "enabled": false,
      "tolerance": 1,
      "comment": "Play-by-play scoring events vs final score (when available)"
    }
  },
  
  "temporaryRelaxation": {
    "2024": {
      "reason": "Data migration period",
      "multiplier": 1.2,
      "expires": "2025-03-01"
    }
  },
  
  "reporting": {
    "verboseFailures": true,
    "includeContext": true,
    "exportFormat": "json",
    "prComments": true,
    "slackNotifications": false
  },
  
  "performance": {
    "parallelExecution": true,
    "timeoutMs": 15000,
    "maxConcurrency": 4,
    "cacheResults": true
  }
}